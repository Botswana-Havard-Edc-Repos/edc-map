{% extends 'edc_base/base.html' %}

{% load staticfiles %}
{% load crispy_forms_tags %}

{% block extra-scripts %}
	{{ block.super }}
	<script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.13/js/dataTables.bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.13/css/dataTables.bootstrap.min.css">
	<script type="text/javascript">
	$(document).ready(function() {
	    $('#item-identifiers').DataTable();
	} );
	</script>
{% endblock extra-scripts %}

{% block main %}
<div class="container">
	<div class="alert alert-warning alert-dismissable fade in">
		{% if messages %}
		<ul class="messages">
		    {% for message in messages %}
		    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
		    {% endfor %}
		</ul>
		{% endif %}
	</div>
	<div class="raw">
    	<div id="div-home-right" class="col-md-8">
         <div class="panel panel-default">
		    <div class="panel-heading"><h2>Create Section</h2></div>
		    <table class="table table-hover responsive">
		    	<tr><td>
		      		<a href="{% url 'edc_map:item_division_url' map_area %}?set_container=set_container" role="button" class="btn btn-primary">Create Containers</a>
		      	</td>
		      	</tr>
		 	 </table>
        </div>
         <div class="panel panel-default">
		    <div class="panel-heading">Create Sub-Section</div>
		    <div class="panel-body">
	     		<form id="set_inner_container" action="{% url 'edc_map:item_division_url' map_area %}?set_inner_container=set_inner_container&container_name={{container_name}}" method="post">
					{% csrf_token %}
					{% crispy form %}
				</form>
			</div>
        </div>
    {% if container_created %}
        <div class="panel panel-default">
		    <div class="panel-heading">Container {{container_name}} total items: {{labels|length}}</div>
		    <table id="item-identifiers" class="table table-striped table-bordered" cellspacing="0" width="100%">
		        <thead>
		            <tr>
		                <th>Labels</th>
					<th>Container</th>
		            </tr>
		        </thead>
		        <tfoot>
		            <tr>
		                <th>Labels</th>
		                <th>Container</th>
		            </tr>
		        </tfoot>
		        <tbody>
					{% for label in labels %}
				      	<tr>
				      		<td>{{label}}</td>
				      		<td>{{container_name}}</td>
				      	</tr>
		      		{% endfor %}
		        </tbody>
		    </table>
        </div>
       {% endif %}
    </div>
    {% include 'edc_map/admin_stats.html' %}
    </div>
</div>
{% endblock main %}